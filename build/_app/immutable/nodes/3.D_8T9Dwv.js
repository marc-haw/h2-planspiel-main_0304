import{t as b,e as x,d as m}from"../chunks/Bfq2k9M2.js";import{i as G}from"../chunks/IkuN4qqN.js";import{ab as H,ae as I,ac as J,af as K,aj as f,d as i,v as j,Q as v,ah as y,ai as l,ag as k,e as z}from"../chunks/BR-9bjsj.js";import{s as F}from"../chunks/CSH2t-aH.js";import{i as A}from"../chunks/DpWqROj8.js";import{e as D,i as L}from"../chunks/DGuw4Zn2.js";var N=b('<div class="modal svelte-xyonvb"><p>PUK erkannt!</p> <button>Schlie√üen</button></div>'),O=b("<li> </li>"),R=b("<li> </li>"),V=b('<div class="calibration-data svelte-xyonvb"><h3>Kalibrierungsdaten:</h3> <ul></ul> <h3>Touchdaten:</h3> <ul></ul> <div> </div></div>'),W=b("<button>PUK anlernen</button> <!> <!>",1);function Z(g,Q){H(Q,!1);let T=!1,c=j(null),u=j(!1);function S(){v(c,null),T=!0,alert("Lege den PUK auf den Tisch, um ihn anzulernen.")}function P(t){const a=t.reduce((e,n)=>({x:e.x+n.x,y:e.y+n.y}),{x:0,y:0});return{x:a.x/t.length,y:a.y/t.length}}function X(t,a){const e=P(t),n=P(a),_=30,p=e.x-n.x,d=e.y-n.y;if(Math.sqrt(p*p+d*d)>_)return!1;const s=t.map(r=>Math.hypot(r.x-e.x,r.y-e.y)),h=a.map(r=>Math.hypot(r.x-n.x,r.y-n.y)),o=30;for(let r=0;r<3;r++)if(Math.abs(s[r]-h[r])>o)return!1;return!0}function M(t){if(t.touches.length!==3){v(u,!1);return}const a=Array.from(t.touches).map(e=>({x:e.clientX,y:e.clientY}));T?(v(c,a),T=!1,alert("Kalibrierung abgeschlossen!")):i(c)&&(X(i(c),a)?v(u,!0):v(u,!1))}G();var U=W();x("touchstart",K,M),x("touchmove",K,M),x("touchend",K,M);var w=I(U),q=f(w,2);{var Y=t=>{var a=N(),e=f(y(a),2);l(a),x("click",e,()=>v(u,!1)),m(t,a)};A(q,t=>{i(u)&&t(Y)})}var B=f(q,2);{var E=t=>{var a=V(),e=f(y(a),2);D(e,5,()=>i(c),L,(d,s,h)=>{var o=O(),r=y(o);l(o),k(($,C)=>F(r,`Touch ${h+1}: (x: ${$??""}, y: ${C??""})`),[()=>i(s).x.toFixed(0),()=>i(s).y.toFixed(0)],z),m(d,o)}),l(e);var n=f(e,4);D(n,4,()=>currentTouches,L,(d,s,h)=>{var o=R(),r=y(o);l(o),k(($,C)=>F(r,`Touch ${h+1}: (x: ${$??""}, y: ${C??""})`),[()=>s.x.toFixed(0),()=>s.y.toFixed(0)],z),m(d,o)}),l(n);var _=f(n,2),p=y(_,!0);l(_),l(a),k(()=>F(p,i(u))),m(t,a)};A(B,t=>{i(c)&&t(E)})}x("click",w,S),m(g,U),J()}function it(g){Z(g,{})}export{it as component};
